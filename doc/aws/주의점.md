### IAM
- `aws:PrincipalOrgId`를 통해 리소스에 액세스하는 보안 주체가 조직의 계정에 속하는지 확인할 수 있다. 조직 단위로 리소스 접근 허용을 구현할 때 유용하다.
- 다른 계정에 있는 `IAM` 사용자에게 교차 계정 액세스를 허용하려면 버킷 정책을 설정해야 한다. 설정을 통해 `S3` 버킷으로의 액세스가 가능해진다.
- 타사가 조직의 `AWS` 리소스에 액세스해야 하는 경우 역할을 사용하여 해당 사용자에게 그에 대한 액세스 권한을 위임할 수 있다.
- [타사가 소유한 AWS 계정에 액세스 권한 제공](https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_common-scenarios_third-party.html)
- 회사의 모든 계정에 대한 SSO(Single Sign-On) 솔루션에 온프레미스 자체 관리 `Microsoft Active Directory`를 사용해서 사용자와 그룹을 계속 관리해야 할 경우 `AWS SSO` 콘솔에서 `AWS Single Sign-On`을 활성화하고 `Microsoft Active Directory`용 `AWS Directory Service`를 사용해야 한다.
- 루트 이메일 수신자가 루트 사용자 이메일 주소로 전송된 알림을 놓치지 않도록 설정하기 위해 루트 사용자 이메일 주소를 배포 목록으로 구성해야 한다. 
- 배포 목록을 설정함으로써 루트 사용자 이메일 주소로 전송되는 알림이 여러 관리자에게 전달되어 빠뜨리지 않도록 할 수 있다. 중요한 알림이 적절한 사람에게 도달하는 것을 보장한다.

### EC2 Instance
- 최대 절전 모드를 준비하고 있다면 인스턴스의 상태가 `running`이 아니라고 하더라도 비용이 청구된다.
- 기본 서버가 아니라 애플리케이션의 트랜스코딩 프로세스를 보강하기 위한 예비 컴퓨팅 리소스로 사용할 인스턴스가 필요한 경우 스팟 인스턴스를 사용하는 것이 가장 좋다.
- `AMI`를 외부 `AWS` 계정에 공유하고자 할 때 `AMI`의 `launchPermission` 속성을 수정해서 파트너의 `AWS` 계정에 `AMI`를 공유하고, 파트너의 `AWS` 계정이 키를 사용할 수 있도록 키 정책을 수정해야 한다.
- `EC2` 사용이 산발적이고 예측할 수 없더라도 스팟 인스턴스를 사용해 비용 절감이 가능하다.

### EBS
- 최대 `I/O` 성능을 가지는 스토리지가 필요하다면 `Amazon EC2` 인스턴스 스토어를 선택하면 된다.

### ASG
- 온디맨드 인스턴스와 스팟 인스턴스를 모두 사용해 원하는 규모, 성능, 비용을 달성하려면 각 인스턴스 용량을 프로비저닝할 때 `Launch template`만을 사용해야 한다.
- 모든 인스턴스에서 원하는 성능을 유지하려면 솔루션 설계자가 대상 추적 정책을 사용하여 `ASG`를 동적으로 조정해야 한다.

### ELB
- 트래픽이 웹 서버에 도달하기 전에 애플리케이션에 대한 모든 트래픽을 검사하기 위해 웹 애플리케이션을 어플라이언스와 통합해야 한다면 `GWLB`를 사용해야 한다.
- `gRPC`는 구글이 최초로 개발한 오픈 소스 원격 프로시저 호출 시스템이다. `ALB`는 7계층 전용 로드 밸런서로 `HTTP`, `HTTPS`, `WebSocket`와 함께 `gRPC, Google Remote Procedure Call` 프로토콜을 지원한다.
- `ALB`는 가중 대상 그룹 라우팅을 지원한다.  이 기능을 사용하면 규칙에 의해 여러 대상 그룹으로 전달되는 트래픽의 가중치 라우팅을 수행할 수 있다.

### S3
- `aws s3 sync` 명령어를 사용해 `S3` 버킷을 복제할 수 있다. 또, `S3 Batch Replication`을 구성하여 다른 리전의 `S3` 버킷으로 객체를 복제할 수 있다.
- 프로세스가 기존 객체를 변경한 후 즉시 읽으려고 하면 `S3`는 항상 최신 버전의 객체를 반환한다.
- `CDC, Change Data Capture`는 변경 데이터 감지를 의미한다.
- `S3`는 버킷 내에서 접두사당 초당 3500개의 `PUT/COPY/POST/DELETE`, 초당 5500개의 `GET/HEAD` 요청을 지원한다. 또, 여러 접두사에 읽기 요청을 균등하게 분산하면 초당 22000개의 `GET/HAED` 요청을 처리할 수 있다. 이 향상된 성능은 기본적으로 제공된다.
- `S3` 교차 리전 복제를 통해 데이터 전송 비용을 낮출 수 있다.
→ 법적 보존이 더 높은 보안수준을 가지나 `s3:PutObjectLegalHold` 권한을 가진 사용자는 어떤 객체에서든 법적 보존을 설정하거나 제거할 수 있으므로, 객체를 수정하기로 결정할 때까지의 불특정한 시간 동안 변경 불가능한 상태로 유지되기를 원한다면 법적 보존 모드를 사용해야 한다.

- 요구 사항에 명시적으로 언급되지 않는 한 가장 비용 효율적인 것은 `S3`이다.
- `S3 URL`에 대한 직접 탐색을 통해 파일에 액세스할 수 있기를 원하지 않는다면 `AWS OAI, AWS Origin Access Identity`를 만들어 `CloudFront` 배포에 `OAI`를 할당한 후 `OAI`만 읽기 권한을 갖도록 `S3` 버킷 권한을 구성해야 한다. `AWS OAI`를 사용하면 `CloudFront`와 연결된 `S3` 버킷에 대한 직접 액세스를 차단할 수 있다.
- `SSE-S3`가 `SSE-KMS`보다 오버헤드가 적다. `SSE-S3`는 키가 `S3`에서 자동으로 생성되고 업로드 시 데이터에 적용되며 추가 작업이 필요하지 않기 때문이다. `KMS`는 더 많은 유연성을 제공하지만 다른 결국 하나를 관리하는 것보다 더 복잡해진다.

### CloudFront
- `CloudFront`를 사용해 복원력을 높일 수 있다. 원점 페일오버 기능이 존재하기 때문이다.
- `CloudFront`는 `S3`뿐만 아니라 `ALB`도 오리진으로 설정 가능하다. `ALB`를 오리진으로 설정하면 동적 컨텐츠의 응답속도 또한 향상시킬 수 있다.

### Global Accelerator
- `Global Accelerator`를 사용하면 `DNS` 구성을 업데이트하거나 클라이언트 애플리케이션을 변경하지 않고도 가용 영역 또는 `AWS` 리전 간에 엔드포인트를 손쉽게 이동할 수 있다. 엔드포인트 그룹에 대한 트래픽 다이얼 비율을 구성하여 특정 `AWS` 리전에 대한 트래픽 양을 늘리거나 줄일 수 있다. 
- 지연 시간이 가장 짧은 리전으로 사용자를 라우팅하는 것도 가능하다. `DNS`의 가중 기반 처리를 추가할 필요가 없다.

### DB
- `Amazon Aurora MySQL` 데이터베이스 복제를 사용하여 스테이징 데이터베이스를 생성할 수 있다.
- 재해 복구에 `DynamoDB`를 활용할 수 있다. `지정 시간 복구, PITR`를 이용하여 지속적인 백업을 할 수 있다. 5분의 `RPO`(복구 지점 목표)와 1시간의 `RTO`(복구 시간 목표)를 충족하는 솔루션을 설계할 수 있다.
- `Amazon DynamoDB` 백업시에는 `AWS Backup`을 활용하면 된다.
- `RDS`는 `DB` 내부의 데이터가 업데이트될 때의 이벤트 알림을 지원하지 않는다. `DB` 인스턴스 이벤트, `DB` 파라미터 그룹 이벤트, `DB` 보안 그룹 이벤트, `DB` 스냅샷 이벤트와 같은 운영 이벤트만 제공한다.
- 이미지를 데이터베이스에 저장하면 안 된다.
- `DB` 스냅샷에서 기존 `DB` 인스턴스로 복원할 수 없다. 복원할 때 새 `DB` 인스턴스가 생성된다.

### Route53
- `AWS` 리소스를 위한 별칭 레코드의 타입은 항상 `A` 또는 `AAAA`이다. 즉 리소스는 `IPv4`, `IPv6` 중 하나이다.

### Lambda
- 람다는 할당된 메모리 크기에 비례하여 컴퓨팅 성능을 할당한다. 하지만, `AWS`에서는 람다의 성능을 위해 람다를 오버프로비저닝하지 않도록 권장한다. 람다를 프로비저닝하면 람다 함수가 예상보다 오래 실행되거나 예상치 못한 비용이 유발될 수 있기 때문이다.

### SQS
- `SQS FIFO` 대기열의 이름은 `.fifo`라는 접미어로 끝나도록 구성해야 한다.
- `SQS FIFO` 대기열은 배칭을 이용하면 초당 최대 3,000개의 메세지를 지원한다. 배칭을 이용하지 않으면 초당 최대 300개의 메세지를 지원한다.

### SNS
- 팬아웃 패턴과 관련하여 정말 편리한 `SNS`의 기능 중 하나는 `SNS`에서 메세지 필터링이 가능하다는 것이다.

### Kinesis
- 데이터가 누락되지 않고 내구성이 있으며 도착 순서대로 데이터를 스트리밍해야 할 때 `Kinesis`를 사용할 수 있다. 또한 서비스로 전송되는 많은 양의 메시지를 쉽게 처리할 수 있다.

### Docker
- `EC2` 인스턴스 프로파일의 역할과 `ECS` 태스크 역할의 차이점을 이해하는 것은 중요하다.  
→ `ECS` 태스크 역할은 `Amazon ECS` 컨테이너 에이전트 및 `Fargate` 에이전트에 사용자를 대신하여 `AWS API` 호출을 수행할 권한을 부여할 때 사용한다. 태스크의 요구 사항에 따라 태스크 실행 `IAM` 역할이 필요하다.
- `Amazon EKS` 관리형 노드 그룹에서 스팟 인스턴스를 선택해 사용할 수 있다.
- `Compute Savings Plans`은 `Fargate` 및 람다에도 적용된다.

### Migration
- `AWS Database Migration Service`를 사용하면 가동 중지 시간이 거의 없이 데이터베이스를 `AWS`로 마이그레이션할 수 있다.
- `DMS`를 사용하면 `S3` 데이터를 `Kinesis Data Stream` 또는 `Redshift`에 마이그레이션 가능하다.
- `DMS`에 지속적인 복제를 설정할 수 있다. 지속적인 복제를 활용하면 `Aurora` 데이터베이스가 온프레미스 데이터베이스와 동기화된 상태를 유지한다.
- 플랫폼 유형의 마이그레이션을 수행하면 상당한 개발 변경이 수반된다.
- 온프레미스로부터의 대용량 데이터 마이그레이션에는 `DataSync`가 `Storage Gateway`보다 적절하다.
- 스토리지 게이트웨이에는 4가지 종류가 있다 : `S3 File Gateway`, `FSx File Gateway`, `Volume Gateway`, `Tape Gateway`
- `Lustre`의 파일 시스템 배포 옵션에는 스크래치 파일 시스템과 영구 파일 시스템이 있다.

### Monitoring
- `CloudWatch` 경보 액션을 사용하면 특정 `EC2` 인스턴스를 모니터링하다가 경보가 위반되는 경우 `EC2` 인스턴스 복구를 실행해 `EC2` 인스턴스를 다른 호스트로 옮기는 등의 작업을 수행할 수 있다.
- `CloudWatch Log`를 `OpenSearch Service`에 바로 전송할 수 있다. 
- 규정 준수 감시에는 `AWS Config`를 사용한다. `AWS Config`는 어떤 동작을 미리 예방하지는 못한다. 어떤 것도 차단할 수 없다. 하지만 구성의 개요와 리소스의 규정 준수 여부는 파악 가능하다.
- `AWS Config`에는 만료되는 인증서를 확인하는 `acm-certificate-expiration-check`라는 관리형 규칙이 있다. `EventBridge`를 통해서도 인증서 만료 알림을 받을 수 있다.
- 자동화된 보안 평가에는 `AWS Inspector`를 사용한다.
- 보안 결과 보고서가 필요하다면 `AWS Artifact`를 사용한다.
- 머신러닝을 통한 이상 탐지, 계정에 대한 공격 탐지가 필요하다면 `GuardDuty`를 사용한다.

- `AWS Trusted Advisor`를 통해 높은 수준의 계정 검사를 받을 수 있다. 비즈니스 지원 플랜이 있어야 `Trusted Advisor`의 전체 기능에 액세스를 할 수 있고, 그전까지는 핵심 검사만 가능하다.
- `AWS Trusted Advisor`는 수십만 명의 `AWS` 고객의 모범사례를 확인한다. 특정 서비스가 할당량에 도달했는지 알 수 있다. 이를 활용하여 실제로 도달하기 전에 서비스 할당량을 늘릴 수 있다.
- `AWS Trusted Advisor` 서비스 제한은 서비스 제한 지표를 `CloudWatch`에 게시한다. 따라서 경보를 구성하고 `Amazon SNS`에 알림을 보낼 수 있다.

- `Cost Explore`는 `AWS` 비용 및 시간에 따른 사용량을 시각화하고 이해하며 관리하는 데 사용된다. 사용자 정의 보고서를 생성해서 비용과 사용량 데이터를 분석할 수 있다. `EC2` 인스턴스 확장의 근본 원인을 파악할 수 있다.
- `CloudWatch` 대시보드를 `IAM` 계정 없이도 공유할 수 있다. 이메일 주소를 입력하고 공유 단계를 수행하면 사용자는 대시보드에 액세스 가능한 링크를 이메일로 제공받을 수 있다.

### Security
- `SSM Parameter Store`를 암호 저장에 사용할 수 있다. `SSM Parameter Store`에는 추적 기능이 내장되어 있다.
- 데이터베이스 자격 증명을 `AWS Secrets Manager`에 저장할 수 있다.
- 애플리케이션 파라미터를 저장하는 경우 `SSM Parameter Store`가 `AWS Secrets Manager`보다 더 적합하다.
- 흐름 로그는 특정 `EC2` 인스턴스가 아닌 `VPC`에서 사용된다. 
- `WAF`는 `NLB`를 지원하지 않는다.

### Network
- `VPC`는 리전의 모든 가용 영역에 걸쳐 존재한다. `VPC`를 생성한 후 각 가용 영역에 하나 이상의 서브넷을 추가할 수 있다.
- `VPC Endpoints`를 사용하면 `AWS PrivateLink`를 통해 프라이빗으로 액세스하므로 `AWS`에 있는 모든 서비스에 액세스할 때 퍼블릭 인터넷을 거치지 않을 수 있다.
- 각 서브넷은 전적으로 하나의 가용 영역 내에 있어야 하며 여러 영역에 걸쳐 있을 수 없다.
- `NLB` 뒤의 인스턴스를 전부 퍼블릭 서브넷 내에 선언하더라도 인스턴스간의 연결은 프라이빗 어드레스로 전달된다.
- `VPC 공유`(리소스 액세스 매니저의 일부)를 이용하면 다수의 `AWS` 계정이 애플리케이션 리소스를 공유하는 `VPC`를 생성할 수 있다.
- `Network Firewall`은 `VPC` 수준에서 설정할 수 있다. 트래픽 필터링과 플로우 검사를 지원한다. `Network Firewall`는 내부적으로 `GWLB`를 활용한다.
- `VPC`에 들어오고 나가는 트래픽을 검사할 때는 `Network Firewall`을 사용해야 한다.
- `ECMP`는 최적 경로를 통해 패킷을 전달하기 위한 라우팅 전략이다. `Site-to-Site VPN` 연결을 많이 생성해서 `AWS`로의 연결 대역폭을 늘릴 때 사용한다.
- 외부 공급자의 서비스에 `VPC Endpoint`를 생성하면 `AWS PrivateLink`를 사용하여 `AWS`가 아닌 외부 공급자의 서비스에 연결할 수 있다.

### Others
- 토폴로지(영어: topology, 문화어: 망구성방식)는 컴퓨터 네트워크의 요소들(링크, 노드 등)을 물리적으로 연결해 놓은 것, 또는 그 연결 방식을 말한다.
- `Amazon Simple Workflow Service(SWF)`는 `AWS`에서 분리된 아키텍처를 생성하는 데 사용할 수 있는 서비스이다.
- `AppSync` 서비스를 사용해 `GraphQL API`를 구현할 수 있다. `AWS AppSync`는 최신 웹 및 모바일 애플리케이션 구축을 간소화하는 서버리스 `GraphQL` 및 `Pub/Sub API` 서비스이다.
- `AWS Wavelength`는 `5G` 네트워크의 고대역폭 및 초저지연 시간을 `AWS` 컴퓨팅 및 스토리지 서비스와 결합하여 개발자가 새로운 등급의 애플리케이션을 혁신하고 구축할 수 있도록 한다.
- `Amazon Workspace`를 사용하면 `VPC`에서 필요한 가상 데스크톱을 생성할 수 있다.
- `HPC`에서 `ENA`를 사용하면 네트워크 속도를 `100Gbps`까지 올릴 수 있다. 중요하다.
- 각 인스턴스에 로그인하지 않고도 콘솔에서 `Run Command`를 사용하여 인스턴스를 구성할 수 있다.
